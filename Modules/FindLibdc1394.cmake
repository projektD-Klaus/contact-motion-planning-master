include(FindPackageHandleStandardArgs)

find_path(
	LIBDC1394_V1_INCLUDE_DIR
	libdc1394/dc1394_control.h
	$ENV{HOME}/include
	/usr/local/include
	/usr/include
)

find_path(
	LIBDC1394_V2_INCLUDE_DIR
	dc1394/dc1394.h
	$ENV{HOME}/include
	/usr/local/include
	/usr/include
)

find_library(
	LIBDC1394_V1_LIBRARY
	NAMES
	dc1394_control
	PATHS
	$ENV{HOME}/lib
	/usr/local/lib
	/usr/lib
)

find_library(
	LIBDC1394_V2_LIBRARY
	NAMES
	dc1394
	PATHS
	$ENV{HOME}/lib
	/usr/local/lib
	/usr/lib
)

if(LIBDC1394_V1_INCLUDE_DIR AND LIBDC1394_V1_LIBRARY)
	set(LIBDC1394_DEFINITIONS -DLIBDC1394_VERSION_MAJOR=10)
	set(LIBDC1394_INCLUDE_DIRS ${LIBDC1394_V1_INCLUDE_DIR})
	set(LIBDC1394_LIBRARIES ${LIBDC1394_V1_LIBRARY})
endif(LIBDC1394_V1_INCLUDE_DIR AND LIBDC1394_V1_LIBRARY)

if(LIBDC1394_V2_INCLUDE_DIR AND LIBDC1394_V2_LIBRARY)
	set(LIBDC1394_DEFINITIONS -DLIBDC1394_VERSION_MAJOR=20)
	set(LIBDC1394_INCLUDE_DIRS ${LIBDC1394_V2_INCLUDE_DIR})
	set(LIBDC1394_LIBRARIES ${LIBDC1394_V2_LIBRARY})
endif(LIBDC1394_V2_INCLUDE_DIR AND LIBDC1394_V2_LIBRARY)

find_package_handle_standard_args(
	libdc1394
	DEFAULT_MSG
	LIBDC1394_INCLUDE_DIRS
	LIBDC1394_LIBRARIES
)

mark_as_advanced(
	LIBDC1394_DEFINITIONS
	LIBDC1394_INCLUDE_DIRS
	LIBDC1394_LIBRARIES
	LIBDC1394_V1_INCLUDE_DIR
	LIBDC1394_V1_LIBRARY
	LIBDC1394_V2_INCLUDE_DIR
	LIBDC1394_V2_LIBRARY
) 
